<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AETHRA — Live Meeting Visual</title>
<link rel="preconnect" href="https://unpkg.com">
<style>
  :root {
    --bg: #0a0b10;
    --panel: #0f111a;
    --ink: #e6e8ef;
    --muted: #8b90a5;
    --brand-1: #7c5cff;  /* electric violet */
    --brand-2: #00e5ff;  /* neon cyan */
    --accent:  #12ffa6;  /* mint */
    --glass: rgba(255,255,255,0.04);
    --glass-strong: rgba(255,255,255,0.08);
    --radius: 14px;
    --shadow: 0 20px 60px rgba(0,0,0,.45);
  }
  * { box-sizing: border-box; }
  html, body { height: 100%; background: radial-gradient(1200px 800px at 20% 10%, #0f1330 0%, var(--bg) 60%); }
  body { margin: 0; color: var(--ink); font: 15px/1.5 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; overflow: hidden; }

  /* Header */
  .topbar {
    position: fixed; inset: 20px auto auto 20px; z-index: 10;
    display: flex; align-items: center; gap: 12px;
    padding: 10px 14px; border-radius: 12px; backdrop-filter: blur(8px);
    background: linear-gradient(135deg, var(--glass-strong), rgba(124,92,255,0.10));
    box-shadow: var(--shadow); border: 1px solid rgba(124,92,255,0.35);
  }
  .dot {
    width: 12px; height: 12px; border-radius: 999px;
    background: radial-gradient(circle at 30% 30%, var(--brand-2), var(--brand-1));
    box-shadow: 0 0 16px rgba(124,92,255,.8), 0 0 30px rgba(0,229,255,.55);
  }
  .brand {
    font-weight: 700; letter-spacing: .08em; text-transform: uppercase; font-size: 13px;
  }
  .subtitle { color: var(--muted); font-size: 12px; margin-left: 6px; opacity: .9; }

  /* Canvas container */
  #stage {
    position: absolute; inset: 0;
  }

  /* Transcript panel */
  .panel {
    position: fixed; top: 20px; right: 20px; bottom: 20px; width: 420px; z-index: 12;
    background: linear-gradient(180deg, rgba(11,13,22,0.85) 0%, rgba(11,13,22,0.65) 100%);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: var(--radius);
    box-shadow: var(--shadow); backdrop-filter: blur(12px);
    display: flex; flex-direction: column; overflow: hidden;
  }
  .panel-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 16px; border-bottom: 1px solid rgba(255,255,255,0.06);
  }
  .badge {
    display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px;
    border-radius: 999px; background: rgba(18,255,166,.12); color: #b8ffe4; font-size: 12px;
    border: 1px solid rgba(18,255,166,.3);
  }
  .scroll {
    padding: 10px 14px 18px; overflow: auto; scrollbar-width: thin;
  }
  .item { padding: 10px 10px 12px; margin: 8px 0; border-radius: 10px; background: var(--glass); border: 1px solid rgba(255,255,255,0.05); }
  .who { font-weight: 600; font-size: 13px; letter-spacing: .02em; }
  .time { color: var(--muted); font-size: 12px; margin-left: 6px; }
  .txt { margin-top: 6px; color: #d7dbec; }

  /* Floating gradient ring */
  .ring {
    position: fixed; inset: auto auto 24px 24px; width: 120px; height: 120px; z-index: 11;
    filter: blur(12px) saturate(120%);
    background:
      radial-gradient(closest-side, rgba(124,92,255,.55), transparent 70%),
      radial-gradient(closest-side, rgba(0,229,255,.4), transparent 70%),
      radial-gradient(closest-side, rgba(18,255,166,.35), transparent 70%);
    border-radius: 50%;
    animation: pulse 6s ease-in-out infinite;
    opacity: .65;
  }
  @keyframes pulse {
    0%,100% { transform: scale(1); opacity: .55; }
    50% { transform: scale(1.06); opacity: .85; }
  }

  /* Small help text */
  .help {
    position: fixed; bottom: 24px; right: 460px; z-index: 12; color: var(--muted); font-size: 12px;
    background: rgba(0,0,0,.35); padding: 8px 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.08);
  }

  @media (max-width: 980px) {
    .panel { width: 92vw; left: 4vw; right: 4vw; bottom: 16px; top: auto; height: 46vh; }
    .help { right: 24px; bottom: calc(46vh + 24px); }
  }
</style>
</head>
<body>
  <div class="topbar">
    <div class="dot"></div>
    <div class="brand">AETHRA</div>
    <div class="subtitle">Live Meeting Visual — 3D Waveform</div>
  </div>

  <div id="stage"></div>

  <aside class="panel" aria-label="Transcript panel">
    <div class="panel-header">
      <div style="font-weight:700">Live Transcript (Sample)</div>
      <div class="badge"><span style="width:8px;height:8px;border-radius:50%;background:var(--accent);display:inline-block;"></span> Live</div>
    </div>
    <div class="scroll" id="transcript">
      <div class="item">
        <div><span class="who">Speaker • Alex</span><span class="time">00:00–00:05</span></div>
        <div class="txt">Morning everyone! Today we’ll finalize the sprint scope and risks.</div>
      </div>
      <div class="item">
        <div><span class="who">Speaker • Priya</span><span class="time">00:05–00:11</span></div>
        <div class="txt">API latency is good, but we still need the offline transcription fallback.</div>
      </div>
      <div class="item">
        <div><span class="who">Speaker • Chen</span><span class="time">00:11–00:17</span></div>
        <div class="txt">I can take the action item for the diarization model evaluation.</div>
      </div>
      <div class="item">
        <div><span class="who">Speaker • Sam</span><span class="time">00:17–00:24</span></div>
        <div class="txt">Cool—let’s lock the design and ship the MVP by Friday.</div>
      </div>
    </div>
  </aside>

  <div class="ring" aria-hidden="true"></div>
  <div class="help">3D waveform is GPU‑animated. This is a visual demo (no audio required).</div>

  <!-- Three.js + helpers -->
  <script src="https://unpkg.com/three@0.159.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.159.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://unpkg.com/gsap@3.12.5/dist/gsap.min.js"></script>

  <script>
  // ====== Scene setup ======
  const stage = document.getElementById('stage');
  const scene  = new THREE.Scene();
  scene.fog = new THREE.FogExp2(0x0a0b10, 0.035);

  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.outputColorSpace = THREE.SRGBColorSpace;
  stage.appendChild(renderer.domElement);

  const camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 0.1, 2000);
  camera.position.set(0, 26, 62);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableDamping = true; controls.enablePan = false; controls.minDistance = 25; controls.maxDistance = 120;

  // Lights
  const hemi = new THREE.HemisphereLight(0x5bd7ff, 0x201030, 0.95); scene.add(hemi);
  const dir  = new THREE.DirectionalLight(0x7c5cff, 0.6); dir.position.set(30, 60, 10); scene.add(dir);

  // ====== Waveform bars in a torus ring ======
  const group = new THREE.Group(); scene.add(group);

  const BAR_COUNT = 420;                // number of bars
  const RADIUS    = 26;                 // ring radius
  const BAR_W     = 0.32;               // bar thickness
  const BAR_D     = 0.32;

  const mat = new THREE.MeshStandardMaterial({
    color: 0x9fa8ff,
    metalness: 0.25,
    roughness: 0.35,
    emissive: new THREE.Color(0x2c2b5a),
    emissiveIntensity: 0.25
  });

  const bars = [];
  const geom = new THREE.BoxGeometry(BAR_W, 1, BAR_D);

  for (let i = 0; i < BAR_COUNT; i++) {
    const m = new THREE.Mesh(geom, mat.clone());
    const a = (i / BAR_COUNT) * Math.PI * 2;
    m.position.set(Math.cos(a) * RADIUS, 0, Math.sin(a) * RADIUS);
    m.rotation.y = -a;
    group.add(m);
    bars.push(m);
  }

  // Floor grid (subtle)
  const grid = new THREE.GridHelper(200, 60, 0x1a2036, 0x131726);
  grid.position.y = -14; scene.add(grid);

  // ====== Noise-like function (deterministic, no audio needed) ======
  function hash(n){ return Math.sin(n)*43758.5453123 % 1; }
  function noise1d(t){ const i=Math.floor(t), f=t-i; const u=f*f*(3-2*f); return (1-u)*hash(i)+u*hash(i+1); }

  // Color gradient helper
  const c1 = new THREE.Color("#7c5cff");
  const c2 = new THREE.Color("#00e5ff");
  const c3 = new THREE.Color("#12ffa6");

  // Animate
  let t = 0;
  const clock = new THREE.Clock();

  function animate(){
    const dt = clock.getDelta();
    t += dt * 0.6;

    // gently rotate whole ring
    group.rotation.y += dt * 0.18;

    for (let i = 0; i < BAR_COUNT; i++){
      const m = bars[i];
      const phase = i * 0.07;
      const base  = 0.9 + Math.sin(i * 0.15 + t*2.2) * 0.15;
      const ripple = noise1d(t*3.2 + phase) * 1.4;
      const height = THREE.MathUtils.clamp(base + ripple, 0.2, 6.5);

      m.scale.y = height;
      m.position.y = height * 0.5;

      // color shift across the ring
      const mixA = (Math.sin(t + i*0.03) + 1)/2;
      const mixB = (Math.cos(t*1.2 + i*0.017) + 1)/2;
      m.material.color.copy(c1).lerp(c2, mixA).lerp(c3, mixB*0.35);
      m.material.emissiveIntensity = 0.2 + mixA*0.35;
    }

    controls.update();
    renderer.render(scene, camera);
    requestAnimationFrame(animate);
  }
  animate();

  // Responsive
  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  // Entrance motion
  gsap.fromTo(group.rotation, {x: -0.3}, {x: 0, duration: 2.2, ease: "power3.out"});
  gsap.fromTo(camera.position, {z: 90}, {z: 62, duration: 2.6, ease: "expo.out", delay: .1});
  </script>
</body>
</html>
